"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createConverter = void 0;
const mount_1 = require("./mount");
const extension_1 = require("./extension");
function createConverter(config = {}) {
    const { rootName = 'piral-slot', selector = 'extension-component' } = config;
    const Extension = (0, extension_1.createExtension)(rootName, selector);
    const convert = (root, captured) => ({
        mount(parent, data, ctx, locals) {
            const el = parent.appendChild(document.createElement(rootName));
            locals.instance = (0, mount_1.mountVue)(el, root, data, ctx, captured);
        },
        update(parent, data, ctx, locals) {
            for (const prop in data) {
                locals.instance[prop] = data[prop];
            }
        },
        unmount(parent, locals) {
            locals.instance.$destroy();
            parent.innerHTML = '';
            locals.instance = undefined;
        },
    });
    convert.Extension = Extension;
    return convert;
}
exports.createConverter = createConverter;
//# sourceMappingURL=converter.js.map